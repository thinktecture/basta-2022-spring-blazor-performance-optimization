@page "/"

<PageTitle>Übersicht</PageTitle>

<MudPaper Elevation="2" Class="pa-4 d-flex justify-center rounded-0">
    <MudCheckBox T=bool Style="white-space: nowrap" Checked="_virtualize" CheckedChanged="ToggleVirtualize" Color="Color.Secondary" Label="Power Boost"></MudCheckBox>
    <MudCheckBox T=bool Style="white-space: nowrap" Class="pr-8" Checked="_loadWithItemsProvider" CheckedChanged="ToggleLoadWithItemsProvider" Color="Color.Secondary" Label="Lazy loading"></MudCheckBox>
    <SearchBar @bind-SearchTerm="_searchTerm"></SearchBar>
</MudPaper>

<MudTabs Style="overflow: hidden" Outlined="false" Position="@activePosition" Rounded="true" Border="true"
         ApplyEffectsToContainer="true" Class="mt-8 tabs-height" PanelClass="pa-6 flex-column">
    <MudTabPanel Text="Conferences">
        <ErrorBoundary>
            <ChildContent>
                <Conferences VirtualizeEnabled="@_virtualize" WithItemsProvider="@_loadWithItemsProvider" SearchTerm="@_searchTerm"></Conferences>
            </ChildContent>
            <ErrorContent>
                <MudAlert Severity="Severity.Error">Loading Conferences failed.</MudAlert>
            </ErrorContent>
        </ErrorBoundary>
    </MudTabPanel>
    <MudTabPanel Text="Speakers">
        <ErrorBoundary>
            <ChildContent>
                <Speakers VirtualizeEnabled="@_virtualize" WithItemsProvider="@_loadWithItemsProvider" SearchTerm="@_searchTerm"></Speakers>
            </ChildContent>
            <ErrorContent>
                <MudAlert Severity="Severity.Error">Loading Speakers failed.</MudAlert>
            </ErrorContent>
        </ErrorBoundary>
    </MudTabPanel>
    <MudTabPanel Text="Contributions">
        <ErrorBoundary>
            <ChildContent>
                <Contributions VirtualizeEnabled="@_virtualize" WithItemsProvider="@_loadWithItemsProvider" SearchTerm="@_searchTerm"></Contributions>
            </ChildContent>
            <ErrorContent>
                <MudAlert Severity="Severity.Error">Loading Contributions failed.</MudAlert>
            </ErrorContent>
        </ErrorBoundary>
    </MudTabPanel>
</MudTabs>
